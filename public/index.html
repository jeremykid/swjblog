<!DOCTYPE html>












  


<html class="theme-next muse use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222">












<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />






















<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=6.3.0" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=6.3.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=6.3.0">


  <link rel="mask-icon" href="/images/logo.svg?v=6.3.0" color="#222">









<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '6.3.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta property="og:type" content="website">
<meta property="og:title" content="Weijie Sun Blog">
<meta property="og:url" content="http://jeremykid.github.io/index.html">
<meta property="og:site_name" content="Weijie Sun Blog">
<meta property="og:locale" content="en">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Weijie Sun Blog">






  <link rel="canonical" href="http://jeremykid.github.io/"/>



<script type="text/javascript" id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>Weijie Sun Blog</title>
  




<script async src="https://www.googletagmanager.com/gtag/js?id=UA-81011440-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-81011440-1');
</script>






  <noscript>
  <style type="text/css">
    .use-motion .motion-element,
    .use-motion .brand,
    .use-motion .menu-item,
    .sidebar-inner,
    .use-motion .post-block,
    .use-motion .pagination,
    .use-motion .comments,
    .use-motion .post-header,
    .use-motion .post-body,
    .use-motion .collection-title { opacity: initial; }

    .use-motion .logo,
    .use-motion .site-title,
    .use-motion .site-subtitle {
      opacity: initial;
      top: initial;
    }

    .use-motion {
      .logo-line-before i { left: initial; }
      .logo-line-after i { right: initial; }
    }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Weijie Sun Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">To elegant code</p>
      
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home menu-item-active">
    <a href="/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-home"></i> <br />Home</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-about">
    <a href="/about/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-user"></i> <br />About</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">
    <a href="/categories/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-th"></i> <br />Categories</a>
  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">
    <a href="/archives/" rel="section">
      <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />Archives</a>
  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  
    

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/06/04/sequelize-cli-NodeJs-Learning-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/04/sequelize-cli-NodeJs-Learning-Notes/" itemprop="url">
                  sequelize cli NodeJs Learning Notes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-04 00:52:04" itemprop="dateCreated datePublished" datetime="2018-06-04T00:52:04-06:00">2018-06-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-06-05 01:39:07" itemprop="dateModified" datetime="2018-06-05T01:39:07-06:00">2018-06-05</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/06/04/sequelize-cli-NodeJs-Learning-Notes/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/06/04/sequelize-cli-NodeJs-Learning-Notes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Sequlize cli 是一个后端对象控制的一个library</p>
<h2 id="Introduce"><a href="#Introduce" class="headerlink" title="Introduce"></a>Introduce</h2><p>首先要install： npm install –save sequelize-cli</p>
<p>然后init： node_modules/.bin/sequelize init</p>
<p>如果你是用Mac 你可以重命名 sequelize:    alias sequelize=’node_modules/.bin/sequelize’</p>
<p>设置 config/config.json 基本上就是列出 database的schema username password 之类的</p>
<h2 id="Migration"><a href="#Migration" class="headerlink" title="Migration"></a>Migration</h2><p>一种是create migration by model </p>
<pre><code>node_modules/.bin/sequelize model:generate --name User
</code></pre><p>还有一种是直接create migration</p>
<pre><code>node_modules/.bin/sequelize migration:create --name add-wechatid-in-user
</code></pre><h2 id="Seed"><a href="#Seed" class="headerlink" title="Seed"></a>Seed</h2><p>在数据库里生成一些demo 或者 测试dat啊</p>
<p>生成 demo-user 的 seed </p>
<pre><code>node_modules/.bin/sequelize seed:generate --name demo-user
</code></pre><p>在seeder 文件里</p>
<pre><code>&apos;use strict&apos;;
module.exports = {
  up: (queryInterface, Sequelize) =&gt; {
    return queryInterface.bulkInsert(&apos;Users&apos;, [{
        firstName: &apos;John&apos;,
        lastName: &apos;Doe&apos;,
        email: &apos;demo@demo.com&apos;
      }], {});
  },

  down: (queryInterface, Sequelize) =&gt; {
    return queryInterface.bulkDelete(&apos;Users&apos;, null, {});
  }
};
</code></pre><p>Reference： </p>
<p><a href="http://docs.sequelizejs.com/manual/tutorial/migrations.html" target="_blank" rel="noopener">Sequelize 手册</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/06/04/cs231n-note-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/06/04/cs231n-note-3/" itemprop="url">
                  cs231n-note-3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-06-04 00:38:22" itemprop="dateCreated datePublished" datetime="2018-06-04T00:38:22-06:00">2018-06-04</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-06-17 22:41:42" itemprop="dateModified" datetime="2018-06-17T22:41:42-06:00">2018-06-17</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/06/04/cs231n-note-3/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/06/04/cs231n-note-3/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="https://zhuanlan.zhihu.com/p/21360434" target="_blank" rel="noopener">最优化上</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/21387326" target="_blank" rel="noopener">最优化下</a></p>
<h1 id="Review"><a href="#Review" class="headerlink" title="Review"></a>Review</h1><ul>
<li><p>基于参数的评分函数。该函数将原始图像像素映射为分类评分值。</p>
</li>
<li><p>损失函数。该函数能够根据分类评分和训练集图像数据实际分类的一致性，衡量某个具体参数集的质量好坏。损失函数有多种版本和不同的实现方式（例如：Softmax或SVM）。 <em>Softmax 和 SVM 不应该包括了score function 和 lost function</em></p>
</li>
<li><p>最优化Optimization。最优化是寻找能使得损失函数值最小化的参数W的过程。</p>
</li>
</ul>
<h1 id="损失函数可视化"><a href="#损失函数可视化" class="headerlink" title="损失函数可视化"></a>损失函数可视化</h1><ul>
<li><p>在一维尺度上 $$L(W+aW_1)$$ x轴是a， y轴是loss function</p>
</li>
<li><p>在二维尺度上 $$L(W+aW_1+bW_2)$$, a,b 表达x轴, y轴， loss function 用颜色表示</p>
</li>
</ul>
<p>单独的损失函数表示：</p>
<p><img src="https://www.zhihu.com/equation?tex=Li%3D%5Csum_%7Bj%5Cnot%3Dy_i%7D%5Bmax%280%2Cw%5ET_jx_i-w%5ET_%7By_i%7Dx_i%2B1%29%5D" alt=""></p>
<p>$$w_j$$ 如果对应分类正确即是负号，错误即是正号 $$L = \sumL/n$$</p>
<p><img src="https://pic3.zhimg.com/80/3f6fbcd487b1c214e8fea1ea66eb413e_hd.jpg" alt=""></p>
<p>SVM的损失函数是一种凸函数，可以学习一下如何高效最小化凸函数，在这种损失函数会有一些不可导的点（kinks）</p>
<p>两个新概念： </p>
<ul>
<li>梯度？ 次梯度？未来学习点</li>
</ul>
<h1 id="最优化-Optimization"><a href="#最优化-Optimization" class="headerlink" title="最优化 Optimization"></a>最优化 Optimization</h1><p>对于神经网络的最优化策略有：</p>
<h2 id="策略-1：随即搜索-最差劲的搜索方案（base-line）"><a href="#策略-1：随即搜索-最差劲的搜索方案（base-line）" class="headerlink" title="策略#1：随即搜索 最差劲的搜索方案（base line）"></a>策略#1：随即搜索 最差劲的搜索方案（base line）</h2><pre><code># 假设X_train的每一列都是一个数据样本（比如3073 x 50000）
# 假设Y_train是数据样本的类别标签（比如一个长50000的一维数组）
# 假设函数L对损失函数进行评价

bestloss = float(&quot;inf&quot;) # Python assigns the highest possible float value
for num in xrange(1000):
  W = np.random.randn(10, 3073) * 0.0001 # generate random parameters
  loss = L(X_train, Y_train, W) # get the loss over the entire training set
  if loss &lt; bestloss: # keep track of the best solution
    bestloss = loss
    bestW = W
  print &apos;in attempt %d the loss was %f, best %f&apos; % (num, loss, bestloss)
</code></pre><p>感觉跟那个monkey sort 差不多 随机生成W weight。</p>
<pre><code># 假设X_test尺寸是[3073 x 10000], Y_test尺寸是[10000 x 1]
scores = Wbest.dot(Xte_cols) # 10 x 10000, the class scores for all test examples
# 找到在每列中评分值最大的索引（即预测的分类）
Yte_predict = np.argmax(scores, axis = 0)
# 以及计算准确率
np.mean(Yte_predict == Yte)
# 返回 0.1555
</code></pre><p>策略是：随机权重开始，然后迭代取优，从而获得更低的损失值。</p>
<h2 id="策略-2：随机本地搜索"><a href="#策略-2：随机本地搜索" class="headerlink" title="策略#2：随机本地搜索"></a>策略#2：随机本地搜索</h2><p>生成一个随机的扰动 $$ \delta W $$</p>
<p>$$ Wtry = W + \delta W $$ </p>
<p>当 Wtry 的loss 变小的时候， 才决定移动</p>
<pre><code>W = np.random.randn(10, 3073) * 0.001 # 生成随机初始W
bestloss = float(&quot;inf&quot;)
for i in xrange(1000):
  step_size = 0.0001
  Wtry = W + np.random.randn(10, 3073) * step_size
  loss = L(Xtr_cols, Ytr, Wtry)
  if loss &lt; bestloss:
    W = Wtry
    bestloss = loss
  print &apos;iter %d loss is %f&apos; % (i, bestloss)
</code></pre><h2 id="策略-3：跟随梯度"><a href="#策略-3：跟随梯度" class="headerlink" title="策略#3：跟随梯度"></a>策略#3：跟随梯度</h2><p>策略1 和 策略2 都是尝试好几个方向来找减少loss的方向，其实可以用梯度（gradient）来找到最陡峭的方向减少loss，</p>
<p>一维求导公式： d(fx)/dx</p>
<p>当函数有多个参数的时候，我们称导数为偏导数。而梯度就是在每个维度上偏导数所形成的向量。</p>
<h1 id="梯度计算"><a href="#梯度计算" class="headerlink" title="梯度计算"></a>梯度计算</h1><p>有两种方法计算梯度：</p>
<h2 id="数值梯度法-（实现简单-但是缓慢）"><a href="#数值梯度法-（实现简单-但是缓慢）" class="headerlink" title="数值梯度法 （实现简单 但是缓慢）"></a>数值梯度法 （实现简单 但是缓慢）</h2><pre><code>def eval_numerical_gradient(f, x):
  &quot;&quot;&quot;  
  一个f在x处的数值梯度法的简单实现
  - f是只有一个参数的函数
  - x是计算梯度的点
  &quot;&quot;&quot; 

  fx = f(x) # 在原点计算函数值
  grad = np.zeros(x.shape)
  h = 0.00001

  # 对x中所有的item索引进行迭代
  it = np.nditer(x, flags=[&apos;multi_index&apos;], op_flags=[&apos;readwrite&apos;])
  while not it.finished:

    # 计算x+h处的函数值
    ix = it.multi_index
    old_value = x[ix]
    x[ix] = old_value + h # 增加h
    fxh = f(x) # 计算f(x + h)
    x[ix] = old_value # 存到前一个值中 (非常重要)

    # 计算偏导数
    grad[ix] = (fxh - fx) / h # 坡度
    it.iternext() # 到下个维度

  return grad
</code></pre><p>实际中用中心差值公式（centered difference formula）[f(x+h)-f(x-h)]/2h 效果较好 <a href="https://en.wikipedia.org/wiki/Numerical_differentiation" target="_blank" rel="noopener">Numerical_differentiation</a></p>
<pre><code># 要使用上面的代码我们需要一个只有一个参数的函数
# (在这里参数就是权重)所以也包含了X_train和Y_train
def CIFAR10_loss_fun(W):
  return L(X_train, Y_train, W)

W = np.random.rand(10, 3073) * 0.001 # 随机权重向量
df = eval_numerical_gradient(CIFAR10_loss_fun, W) # 得到梯度
</code></pre><p>loss_original = CIFAR10_loss_fun(W) # 初始损失值<br>print ‘original loss: %f’ % (loss_original, )</p>
<pre><code># 查看不同步长的效果
for step_size_log in [-10, -9, -8, -7, -6, -5,-4,-3,-2,-1]:
  step_size = 10 ** step_size_log
  W_new = W - step_size * df # 权重空间中的新位置
  loss_new = CIFAR10_loss_fun(W_new)
  print &apos;for step size %f new loss: %f&apos; % (step_size, loss_new)

# 输出:
# original loss: 2.200718
# for step size 1.000000e-10 new loss: 2.200652
# for step size 1.000000e-09 new loss: 2.200057
# for step size 1.000000e-08 new loss: 2.194116
# for step size 1.000000e-07 new loss: 2.135493
# for step size 1.000000e-06 new loss: 1.647802
# for step size 1.000000e-05 new loss: 2.844355
# for step size 1.000000e-04 new loss: 25.558142
# for step size 1.000000e-03 new loss: 254.086573
# for step size 1.000000e-02 new loss: 2539.370888
# for step size 1.000000e-01 new loss: 25392.214036
</code></pre><p>步长的影响：梯度指明了函数在哪个方向?是变化率最大的 步长(也叫作学习率)</p>
<p>小步长下降稳定但进度慢 &lt;-&gt; 大步长进展快但是风险更大</p>
<p>在本例中有30730个参数，所以损失函数每走一步就需要计算30731次损失函数的梯度, 效率太低</p>
<h2 id="分析梯度法-（计算迅速，结果精确）-微分分析计算梯度"><a href="#分析梯度法-（计算迅速，结果精确）-微分分析计算梯度" class="headerlink" title="分析梯度法 （计算迅速，结果精确） 微分分析计算梯度"></a>分析梯度法 （计算迅速，结果精确） 微分分析计算梯度</h2><p>Todo</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/05/24/Install-pyenv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/24/Install-pyenv/" itemprop="url">
                  Install pyenv
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-24 23:01:30" itemprop="dateCreated datePublished" datetime="2018-05-24T23:01:30-06:00">2018-05-24</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-06-05 02:50:03" itemprop="dateModified" datetime="2018-06-05T02:50:03-06:00">2018-06-05</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/24/Install-pyenv/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/24/Install-pyenv/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>因为之前用<a href="https://github.com/creationix/nvm" target="_blank" rel="noopener">nvm</a> node 的版本管理器</p>
<p>所以pyenv 应该也是python 的版本管理器</p>
<p>运行 curl -L <a href="https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer" target="_blank" rel="noopener">https://github.com/pyenv/pyenv-installer/raw/master/bin/pyenv-installer</a> | bash</p>
<p>然后打开 vim ~/.bash_profile </p>
<p>添加了三行</p>
<pre><code>export PATH=&quot;~/.pyenv/bin:$PATH&quot;
eval &quot;$(pyenv init -)&quot;
eval &quot;$(pyenv virtualenv-init -)&quot;
</code></pre><p>我原来的是</p>
<pre><code>export XAMPP_HOME=/Applications/xampp/xamppfiles
export PATH=${XAMPP_HOME}/bin:${PATH}
</code></pre><p>最后变成</p>
<pre><code>export XAMPP_HOME=/Applications/xampp/xamppfiles
export PATH=/Users/weijiesun/.pyenv/bin:${PATH}:${XAMPP_HOME}/bin

eval &quot;$(pyenv init -)&quot;
eval &quot;$(pyenv virtualenv-init -)&quot;
</code></pre><p>然后有个坑踩了好久，就是XAMPP_HOME=/Applications/xampp/xamppfiles 要放在path 的最后一位，不然就是疯狂在找http url 的端口</p>
<p>然后运行 </p>
<pre><code>source ~/.bash_profile     
</code></pre><p>就好了</p>
<h1 id="Kears"><a href="#Kears" class="headerlink" title="Kears"></a>Kears</h1>
          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/05/21/cs231n-note-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/21/cs231n-note-2/" itemprop="url">
                  cs231n note - 2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-21 14:56:48" itemprop="dateCreated datePublished" datetime="2018-05-21T14:56:48-06:00">2018-05-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-06-04 00:43:39" itemprop="dateModified" datetime="2018-06-04T00:43:39-06:00">2018-06-04</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/21/cs231n-note-2/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/21/cs231n-note-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Reference:</p>
<p><a href="https://zhuanlan.zhihu.com/p/20918580" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/20918580</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/20945670" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/20945670</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/21102293" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/21102293</a></p>
<h1 id="Linear-Classification"><a href="#Linear-Classification" class="headerlink" title="Linear Classification"></a>Linear Classification</h1><h2 id="score-function-评分函数"><a href="#score-function-评分函数" class="headerlink" title="score function (评分函数)"></a>score function (评分函数)</h2><p>原始图片到各个类别的评分情况， 分越高越接近</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+f%28x_i%2CW%2Cb%29%3DWx_i%2Bb" alt=""></p>
<p>每个图像都是 [D x 1] D = pixel X pixel X 3(RGB)</p>
<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><p>权重</p>
<p>W (weight) = [k X D] k是样本数 </p>
<p>在维度空间里 做旋转变换</p>
<p>偏差向量</p>
<p>b (bias vector) = [k x 1]</p>
<p>在维度空间里 做平移变化</p>
<h3 id="图像数据预处理"><a href="#图像数据预处理" class="headerlink" title="图像数据预处理"></a>图像数据预处理</h3><p>最常见的就是 normalization</p>
<p>零均值的中心化 把 [0-255] -&gt; [-127-127] -&gt; [-1,1]</p>
<h2 id="Loss-Function-损失函数"><a href="#Loss-Function-损失函数" class="headerlink" title="Loss Function (损失函数)"></a>Loss Function (损失函数)</h2><p>量化分类label 与真实label 之间的一致性 也叫 代价函数Cost Function或目标函数Objective</p>
<p>当 Score Function 与真实结果相差越大，Cost Function输出越大 </p>
<h3 id="多类支持向量机损失-Multiclass-Support-Vector-Machine-Loss"><a href="#多类支持向量机损失-Multiclass-Support-Vector-Machine-Loss" class="headerlink" title="多类支持向量机损失 Multiclass Support Vector Machine Loss"></a>多类支持向量机损失 Multiclass Support Vector Machine Loss</h3><p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+L_i%3D%5Csum_%7Bj%5Cnot%3Dy_i%7Dmax%280%2Cs_j-s_%7By_i%7D%2B%5CDelta%29" alt=""></p>
<p>eg: 有三个分类 score 是 s = [13, -7, 11] \delta = 10, 第一个label 是真实正确的</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+Li%3Dmax%280%2C-7-13%2B10%29%2Bmax%280%2C11-13%2B10%29" alt=""></p>
<p>因为 -20 大于 \delta 边界值， 所以最后的损失值为8</p>
<p>线性评分函数 的损失函数公式：</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+L_i%3D%5Csum_%7Bj%5Cnot%3Dy_i%7Dmax%280%2Cw%5ET_jx_i-w%5ET_%7By_i%7Dx_i%2B%5CDelta%29" alt=""></p>
<h3 id="折叶损失（hinge-loss）-max-0"><a href="#折叶损失（hinge-loss）-max-0" class="headerlink" title="折叶损失（hinge loss）: max (0, -)"></a>折叶损失（hinge loss）: max (0, -)</h3><h3 id="平方折叶损失SVM（即L2-SVM）：-max-0-2"><a href="#平方折叶损失SVM（即L2-SVM）：-max-0-2" class="headerlink" title="平方折叶损失SVM（即L2-SVM）： max (0, -) ^2"></a>平方折叶损失SVM（即L2-SVM）： max (0, -) ^2</h3><p><img src="https://pic4.zhimg.com/80/f254bd8d072128f1088c8cc47c3dff58_hd.jpg" alt=""></p>
<p>目的是想要正确类别进入红色区域， 如果其他类别进入红色区域甚至更高的时候，计算loss， 我们的目的是找权重W</p>
<h2 id="Regularization-正则化"><a href="#Regularization-正则化" class="headerlink" title="Regularization 正则化"></a>Regularization 正则化</h2><p>假设有一个数据集和一个权重集W能够正确地分类每个数据， 可能有很多相似的W都能正确地分类所有的数据</p>
<p>比如有一个权重W 调整系数可以改变Loss score。 我们希望給W添加一些偏好</p>
<p>向损失函数增加一个正则化惩罚</p>
<h3 id="egularization-penalty-正则化惩罚-R-W"><a href="#egularization-penalty-正则化惩罚-R-W" class="headerlink" title="egularization penalty 正则化惩罚 R(W)"></a>egularization penalty 正则化惩罚 R(W)</h3><p><img src="https://www.zhihu.com/equation?tex=R%28W%29%3D%5Csum_k+%5Csum_l+W%5E2_%7Bk%2Cl%7D" alt=""></p>
<p>多类SVM损失函数 L = 数据损失（data loss），即所有样例的的平均损失L_i + 正则化损失（regularization loss）</p>
<p><img src="https://www.zhihu.com/equation?tex=L%3D%5Cdisplaystyle+%5Cunderbrace%7B+%5Cfrac%7B1%7D%7BN%7D%5Csum_i+L_i%7D_%7Bdata+%5C++loss%7D%2B%5Cunderbrace%7B%5Clambda+R%28W%29%7D_%7Bregularization+%5C+loss%7D" alt=""></p>
<p>展开公式</p>
<p><img src="https://www.zhihu.com/equation?tex=L%3D%5Cfrac%7B1%7D%7BN%7D%5Csum_i%5Csum_%7Bj%5Cnot%3Dy_i%7D%5Bmax%280%2Cf%28x_i%3BW%29_j-f%28x_i%3BW%29_%7By_i%7D%2B%5CDelta%29%5D%2B%5Clambda+%5Csum_k+%5Csum_l+W%5E2_%7Bk%2Cl%7D" alt=""></p>
<p>Code:</p>
<pre><code>def L_i(x, y, W):
  &quot;&quot;&quot;
  unvectorized version. Compute the multiclass svm loss for a single example (x,y)
  - x is a column vector representing an image (e.g. 3073 x 1 in CIFAR-10)
    with an appended bias dimension in the 3073-rd position (i.e. bias trick)
  - y is an integer giving index of correct class (e.g. between 0 and 9 in CIFAR-10)
  - W is the weight matrix (e.g. 10 x 3073 in CIFAR-10)
  &quot;&quot;&quot;
  delta = 1.0 # see notes about delta later in this section
  scores = W.dot(x) # scores becomes of size 10 x 1, the scores for each class
  correct_class_score = scores[y]
  D = W.shape[0] # number of classes, e.g. 10
  loss_i = 0.0
  for j in xrange(D): # iterate over all wrong classes
    if j == y:
      # skip for the true class to only loop over incorrect classes
      continue
    # accumulate loss for the i-th example
    loss_i += max(0, scores[j] - correct_class_score + delta)
  return loss_i

def L_i_vectorized(x, y, W):
  &quot;&quot;&quot;
  A faster half-vectorized implementation. half-vectorized
  refers to the fact that for a single example the implementation contains
  no for loops, but there is still one loop over the examples (outside this function)
  &quot;&quot;&quot;
  delta = 1.0
  scores = W.dot(x)
  # compute the margins for all classes in one vector operation
  margins = np.maximum(0, scores - scores[y] + delta)
  # on y-th position scores[y] - scores[y] canceled and gave delta. We want
  # to ignore the y-th position and only consider margin on max wrong class
  margins[y] = 0
  loss_i = np.sum(margins)
  return loss_i

def L(X, y, W):
  &quot;&quot;&quot;
  fully-vectorized implementation :
  - X holds all the training examples as columns (e.g. 3073 x 50,000 in CIFAR-10)
  - y is array of integers specifying correct class (e.g. 50,000-D array)
  - W are weights (e.g. 10 x 3073)
  &quot;&quot;&quot;
  # evaluate loss over all examples in X without using any for loops
  # left as exercise to reader in the assignment
    delta = 1.0
    score_matrix = W.dot(X)
    correct_score = score_matrix[y]
    #Todo, correct_score_matrix = correct_core * 50
    #Todo, delta_matrx repeat delta
    loss_matrix = score_matrix - correct_score_matrix + delta_matrx
    result = np.sum(loss_matrix, axis=1)
  return loss_matrix
</code></pre><h3 id="Softmax分类器"><a href="#Softmax分类器" class="headerlink" title="Softmax分类器"></a>Softmax分类器</h3><p>逻辑回归分类器面对多个分类的一般化归纳</p>
<p>公式：</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+Li%3D-log%28%5Cfrac%7Be%5E%7Bf_%7By_i%7D%7D%7D%7B%5Csum_je%5E%7Bf_j%7D%7D%29" alt=""> </p>
<p>或者</p>
<p><img src="https://www.zhihu.com/equation?tex=L_i%3D-f_%7By_i%7D%2Blog%28%5Csum_je%5E%7Bf_j%7D%29" alt=""></p>
<p>所有的函数转换成 $$e^z$$</p>
<p>score function =&gt; <img src="https://www.zhihu.com/equation?tex=f_j%28z%29%3D%5Cfrac%7Be%5E%7Bz_j%7D%7D%7B%5Csum_ke%5E%7Bz_k%7D%7D" alt=""></p>
<p>softmax 函数, 每个元素都在0-1之间并且和为1</p>
<p>概率解释:</p>
<p><img src="https://www.zhihu.com/equation?tex=P%28y_i%7Cx_i%2CW%29%3D%5Cfrac%7Be%5E%7Bf_%7By_i%7D%7D%7D%7B%5Csum_je%5E%7Bf_j%7D%7D" alt=""></p>
<p>我们就是在最小化正确分类的负对数概率，这可以看做是在进行最大似然估计（MLE）</p>
<p>实现softmax函数计算的时候技巧可以用常数C， 通常$$\log C = -maxf_j$$ </p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Be%5E%7Bf_%7By_i%7D%7D%7D%7B%5Csum_je%5E%7Bf_j%7D%7D%3D%5Cfrac%7BCe%5E%7Bf_%7By_i%7D%7D%7D%7BC%5Csum_je%5E%7Bf_j%7D%7D%3D%5Cfrac%7Be%5E%7Bf_%7By_i%7D%2BlogC%7D%7D%7B%5Csum_je%5E%7Bf_j%2BlogC%7D%7D" alt=""></p>
<pre><code>f = np.array([123, 456, 789]) # 例子中有3个分类，每个评分的数值都很大
p = np.exp(f) / np.sum(np.exp(f)) # 不妙：数值问题，可能导致数值爆炸

# 那么将f中的值平移到最大值为0：
f -= np.max(f) # f becomes [-666, -333, 0]
p = np.exp(f) / np.sum(np.exp(f)) # 现在OK了，将给出正确结果
</code></pre><p>折叶损失（hinge loss）替换为交叉熵损失（cross-entropy loss）</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+H%28p%2Cq%29%3D-%5Csum_xp%28x%29+logq%28x%29" alt=""></p>
<h3 id="SVM和Softmax的比较"><a href="#SVM和Softmax的比较" class="headerlink" title="SVM和Softmax的比较"></a>SVM和Softmax的比较</h3><p>Softmax </p>
<h3 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h3><ul>
<li><p>SVM 和 Softmax 基于 weight W 和 bias b</p>
</li>
<li><p>define Loss Function (损失函数) 用来更好的定义更好的预测模型</p>
</li>
</ul>
<p>—-sad—-<br>Test Mathjax, 但是公式实在太复杂。</p>
<p>$$<br>L<em>{i}=f</em>{y<em>i}+\log (\sum</em>{j} e^{f_j})<br>$$</p>
<p>$L_{i} = -\log \frac {e^{f_y}} {e^{f_j}}$</p>
<p>$\sum_{j=0}$</p>
<p>$$<br>a+b=c<br>$$</p>
<p>TODO</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/05/20/cs231n-note-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/20/cs231n-note-1/" itemprop="url">
                  cs231n note - 1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-20 17:26:44" itemprop="dateCreated datePublished" datetime="2018-05-20T17:26:44-06:00">2018-05-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-27 20:25:25" itemprop="dateModified" datetime="2018-05-27T20:25:25-06:00">2018-05-27</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/20/cs231n-note-1/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/20/cs231n-note-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Reference：</p>
<p><a href="https://zhuanlan.zhihu.com/p/20894041" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/20894041</a></p>
<p><a href="https://zhuanlan.zhihu.com/p/20900216" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/20900216</a> </p>
<h1 id="图像分类"><a href="#图像分类" class="headerlink" title="图像分类"></a>图像分类</h1><p>颜色channel 有三个 red green blue， RGB</p>
<p>流程就是 输入 -&gt; 学习 -&gt; 评价</p>
<h1 id="K-Nearest-Neighbor-分类器"><a href="#K-Nearest-Neighbor-分类器" class="headerlink" title="K Nearest Neighbor 分类器"></a>K Nearest Neighbor 分类器</h1><p>k 越高 generalization 能力越好</p>
<h2 id="用距离来分类"><a href="#用距离来分类" class="headerlink" title="用距离来分类"></a>用距离来分类</h2><p>L1范数 和 L2范数 </p>
<p>L1 </p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+d_1%28I_1%2CI_2%29%3D%5Csum_p%7CI%5Ep_1-I%5Ep_2%7C" alt=""></p>
<p>L2</p>
<p><img src="https://www.zhihu.com/equation?tex=%5Cdisplaystyle+d_2%28I_1%2CI_2%29%3D%5Csqrt%7B+%5Csum_p%28I%5Ep_1-I%5Ep_2%29%5E2%7D" alt=""></p>
<p><code>distances = np.sqrt(np.sum(np.square(self.Xtr - X[i,:]), axis = 1))</code></p>
<p>L1和L2比较。。在面对两个向量之间的差异时，L2比L1更加不能容忍这些差异。也就是说，相对于1个巨大的差异，L2距离更倾向于接受多个中等程度的差异。L1和L2都是在p-norm常用的特殊形式。</p>
<h2 id="hyperparameter-超参数，需要去测试调整"><a href="#hyperparameter-超参数，需要去测试调整" class="headerlink" title="hyperparameter: 超参数，需要去测试调整"></a>hyperparameter: 超参数，需要去测试调整</h2><h2 id="validation-set-测试集-只能使用一次"><a href="#validation-set-测试集-只能使用一次" class="headerlink" title="validation set: 测试集 只能使用一次"></a>validation set: 测试集 只能使用一次</h2><h2 id="Cross-validation-train-lt-gt-test"><a href="#Cross-validation-train-lt-gt-test" class="headerlink" title="Cross validation: train &lt;-&gt; test"></a>Cross validation: train &lt;-&gt; test</h2><p>##k Nearest Neighbor 优缺点:</p>
<p>Advantange:易于理解，实现简单。</p>
<p>Disadvantage: 算法的训练不需要花时间，因为其训练过程只是将训练集数据存储起来。然而测试要花费大量时间计算，因为每个测试图像需要和所有存储的训练图像进行比较，这显然是一个缺点。在实际应用中，我们关注测试效率远远高于训练效率</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2018/05/20/Machine-Learning-Notes-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/05/20/Machine-Learning-Notes-1/" itemprop="url">
                  Machine Learning Notes - 1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-05-20 16:15:11" itemprop="dateCreated datePublished" datetime="2018-05-20T16:15:11-06:00">2018-05-20</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-05-24 01:07:22" itemprop="dateModified" datetime="2018-05-24T01:07:22-06:00">2018-05-24</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/05/20/Machine-Learning-Notes-1/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/05/20/Machine-Learning-Notes-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Reference: <a href="https://zhuanlan.zhihu.com/p/36287950" target="_blank" rel="noopener">https://zhuanlan.zhihu.com/p/36287950</a></p>
<h1 id="Todo-List"><a href="#Todo-List" class="headerlink" title="Todo List"></a>Todo List</h1><ul>
<li>[X] - 01 - Overview<br>P1-15 Machine learning background and flow</li>
</ul>
<p>P16-42  Machine learning flow</p>
<ul>
<li><p>[ ] - 02 - Business Understanding </p>
</li>
<li><p>[X] - 03 - Data Understanding p56 - 62</p>
<p>To learn about data analysis, it is right that each of us try many things that do not work – that we tackle more problems than we make expert analyses of. We often learn less from an expertly done analysis than from one where, by not trying something, we missed an opportunity to learn more</p>
</li>
<li><p>[ ] - 04 - Data Preparation -p63</p>
</li>
</ul>
<p>Prepare data is time consuming </p>
<p>several methods to deal with missing data and outliers</p>
<p>normalize Data</p>
<p>Data binning 分级</p>
<p>Reduce Data, Clean Data</p>
<p>Feature Engineering: 从raw data 提取出 feature</p>
<h3 id="Feature-Selection-Filter-Wrapper-Embedded-method"><a href="#Feature-Selection-Filter-Wrapper-Embedded-method" class="headerlink" title="Feature Selection: Filter/Wrapper/Embedded method"></a>Feature Selection: Filter/Wrapper/Embedded method</h3><p>Traditional approaches 传统方法</p>
<h4 id="Forward-selection"><a href="#Forward-selection" class="headerlink" title="Forward selection"></a>Forward selection</h4><p>一开始模型里面没有variable， 然后往里面加入variable，直到accuracy 没有任何的增长</p>
<h4 id="Backward-elimination"><a href="#Backward-elimination" class="headerlink" title="Backward elimination"></a>Backward elimination</h4><p>和前一种相反，一开始有所有的variable, 然后去除，直到accuracy 有明显的下降</p>
<h4 id="Stepwise-regression"><a href="#Stepwise-regression" class="headerlink" title="Stepwise regression"></a>Stepwise regression</h4><p>这种是用在选k-best feature， 一开始有k个，然后加入更好的，并且去除最差的，直到经历过所有的feature</p>
<p>P100</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2017/06/13/Docker-Notes/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/13/Docker-Notes/" itemprop="url">
                  Docker Notes
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-06-13 22:40:16 / Modified: 23:12:03" itemprop="dateCreated datePublished" datetime="2017-06-13T22:40:16-06:00">2017-06-13</time>
            

            
              

              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/06/13/Docker-Notes/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/06/13/Docker-Notes/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Containers </p>
<p>List Containers</p>
<p>docker ps (show all the running container)</p>
<p>docker ps -a (show all the container include which is not running)</p>
<p>Start container</p>
<p>docker start {containerId} (start one container)</p>
<p>Stop container</p>
<p>docker stop {containerId} (Stop one container)</p>
<p>Docker-Compose</p>
<p>Create a docker-compose.yml <a href="https://docs.docker.com/compose/compose-file/compose-file-v2/#build" target="_blank" rel="noopener">document</a></p>
<p>To be continue</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2016/08/02/Machine-Learning-Project-1-Weijie-Sun/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/08/02/Machine-Learning-Project-1-Weijie-Sun/" itemprop="url">
                  Machine Learning Project[1]-Weijie Sun
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-08-02 15:37:01 / Modified: 16:14:45" itemprop="dateCreated datePublished" datetime="2016-08-02T15:37:01-06:00">2016-08-02</time>
            

            
              

              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/08/02/Machine-Learning-Project-1-Weijie-Sun/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/08/02/Machine-Learning-Project-1-Weijie-Sun/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h2><p>I have taken a Machine Learning Course at the University of Alberta. Our professor is <a href="https://en.wikipedia.org/wiki/Russell_Greiner" target="_blank" rel="noopener">Russell Greiner</a>. We need to make a project and do some researches by Machine Learning method with our coach <a href="https://sites.ualberta.ca/~golmoham/" target="_blank" rel="noopener">Koosha Golmohammadi</a>. Since this is my first Machine Learning project. Soooo, this is not as good as some projects made by Machine Learning experts. However, we achieve a result is 90% accuracy which is closed to some the U.S agency in Boston.</p>
<h1 id="1-Scraping-Data"><a href="#1-Scraping-Data" class="headerlink" title="1 Scraping Data."></a>1 Scraping Data.</h1><p>We scraped some real estate data from real estate data website from Edmonton and marked in Edmonton Map.</p>
<p><img src="/images/MachineLearning-data2.png" alt=""></p>
<h1 id="2-Matching-Data"><a href="#2-Matching-Data" class="headerlink" title="2 Matching Data"></a>2 Matching Data</h1><p>Then we tried to match the real estate data with over 110 features in <a href="https://data.edmonton.ca/" target="_blank" rel="noopener">Open City Edmonton Data</a></p>
<p>It is a tough work there are different names for an address which is easier for the human to understand than a machine. After a little of the algorithm in nature language process(very basic). </p>
<p>we got the following useful data.<br><img src="/images/MachineLearning-data1.png" alt=""></p>
<p>This is our first step for collating data and scraping data.</p>
<p>I will keep updating for Machine learning.<br>See you next time.</p>
<p><a href="https://github.com/koosha/property_values" target="_blank" rel="noopener">Our code resource</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2016/07/27/My Ionic-Hybrid Experience[1]/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/27/My Ionic-Hybrid Experience[1]/" itemprop="url">
                  My Ionic-Hybrid Experience[1]
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-07-27 13:26:54" itemprop="dateCreated datePublished" datetime="2016-07-27T13:26:54-06:00">2016-07-27</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2016-07-28 13:04:37" itemprop="dateModified" datetime="2016-07-28T13:04:37-06:00">2016-07-28</time>
              
            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/27/My Ionic-Hybrid Experience[1]/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/07/27/My Ionic-Hybrid Experience[1]/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="Ionic-Development-experience"><a href="#Ionic-Development-experience" class="headerlink" title="Ionic Development experience"></a>Ionic Development experience</h3><p>When I was in 3rd year in Undergraduate, I has an opportunity to develop a Mobile Application. Since I have the experience of developing Android Mobile Application which is a CMPUT 301 course project. I build a team which from 2 different teams in 301 course.</p>
<p>The First Plan for us is build an Android Application by Java and an iOS Application by Object-C. The Customer asked us to finish in a half year. We don’t think that is enough to develop two Applications and test two.</p>
<p>We were looking for some solutions. The first solutions is Cordova Phonegap. However we searched some Phonegap products. The User experience and User Interface is much worse than an Application developed by Java or Object-C.</p>
<p>Then one of my team member ask his sister’s boyfriend who works in Google. He recommand the Ionic + Parse for our mobile application. That is the first time I heard about the Ionic.</p>
<p>Then I use Ionic + Parse to develop 3 Mobile Applications inculde one course project. It is not easy until we fully understand what the structure in the Ionic. Trust me! Ionic is a very clear Structure.</p>
<h3 id="The-Structure"><a href="#The-Structure" class="headerlink" title="The Structure"></a>The Structure</h3><p>In my Understanding the Ionic Stucture is like this form.</p>
<p><img src="/images/ionic-Structure.png" alt=""></p>
<p>See you in next time.</p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://jeremykid.github.io/2016/07/18/Algorithm/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Weijie Sun">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpeg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Weijie Sun Blog">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/18/Algorithm/" itemprop="url">
                  Algorithm - Weijie Sun
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2016-07-18 16:54:34" itemprop="dateCreated datePublished" datetime="2016-07-18T16:54:34-06:00">2016-07-18</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2016-07-21 01:12:33" itemprop="dateModified" datetime="2016-07-21T01:12:33-06:00">2016-07-21</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2016/07/18/Algorithm/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2016/07/18/Algorithm/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="integer-factorization-algorithm"><a href="#integer-factorization-algorithm" class="headerlink" title="integer factorization algorithm"></a>integer factorization algorithm</h1><h2 id="1-Introduction"><a href="#1-Introduction" class="headerlink" title="1 Introduction"></a>1 Introduction</h2><table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">trial_division.py</td>
<td style="text-align:right">note0</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">euler_trivial.py note2</td>
<td style="text-align:right">note1</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">fermatfactor_trivial.py</td>
<td style="text-align:right">fermatfactor_improved_prime.py</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">Pollards_rho_trivial.py</td>
<td style="text-align:right">Pollards_rho_improved_prime.py</td>
<td>note3</td>
</tr>
</tbody>
</table>
<ul>
<li>note0 : Trivial Division use the trivial prime, which cannot use Miller-Rabin primality test</li>
<li>note1 : Euler’s factorization method stops the algorithm<pre><code>when a number cannot found number = a^2 + b^2 = c^2 + d^2. 
Miller-Rabin is only judge the prime not find the factors.
</code></pre></li>
<li>note2 : Since I have not find a better way to find a number = a^2 + b^2 = c^2 + d^2. <pre><code>So Euler&apos;s spend on the this function I will list after that 
</code></pre></li>
<li>note3 : In Pollards_rho Miller-Rabin primality test, inorder to handle some base cases. I use the <pre><code>trial_division to handle some special cases.
</code></pre></li>
</ul>
<p>#Integer factorization:</p>
<h3 id="1-1"><a href="#1-1" class="headerlink" title="1.1"></a>1.1</h3><p>Trial division: (Baseline)<br>This is a base line in my integer factorization algorithm project. It is using<br>a prime sieve for prime number generation which can judge a number is a prime or<br>continue do factorization.</p>
<p>Running time: in the worst case it is O(2^(n/2)/((n/2)*ln2)) </p>
<ul>
<li>n is base-2 n digit number.</li>
</ul>
<h3 id="1-2"><a href="#1-2" class="headerlink" title="1.2"></a>1.2</h3><p>Euler’s factorization method:<br>This is an implementation factorization algorithm, which solves the following problem. Given an number, then find all prime factors. The base knowledge of Euler’s factorization is if<br>a number = a^2 + b^2 = c^2 + d^2. There is a quickly way to seperate into 2 factors.</p>
<p>Running time: It is very slow, worst case is greater than trial division,<br>only quick in some special cases and has potient quick.</p>
<h3 id="1-3"><a href="#1-3" class="headerlink" title="1.3"></a>1.3</h3><p>Fermat’s factorization method:<br>This is an implementation factorization algorithm, which solves the following problem. Given an number, then find all prime factors. The base knowledge of Fermat’s factorization method:<br> is if a number = a^2 - b^2 There is a quickly way to seperate into 2 factors.</p>
<p>Running time: Worst case is O(N^{1/2})<br>              General case is O(N^{1/3}) time.</p>
<h3 id="1-4"><a href="#1-4" class="headerlink" title="1.4"></a>1.4</h3><p>Pollard’s rho algorithm:<br>This is an implementation factorization algorithm, which solves the following problem. Given an number, then find all prime factors. The base knowledge of Pollard’s rho algorithm is if a find<br>the abs(x^2+1-x) mod N if not 1 then it is a factor of N.</p>
<p>Running time: General case by the Birthday paradox in O(\sqrt p)\ &lt;= O(n^{1/4})<br>              but this is a heuristic claim, and rigorous analysis of the algorithm remains open.</p>
<h2 id="2-A-description-of-what-sort-of-tests-I-have-included"><a href="#2-A-description-of-what-sort-of-tests-I-have-included" class="headerlink" title="2 A description of what sort of tests I have included"></a>2 A description of what sort of tests I have included</h2><h1 id="1-St-2-primes-production-each-prime-gt-million"><a href="#1-St-2-primes-production-each-prime-gt-million" class="headerlink" title="1 St: 2 primes production (each prime &gt; million)"></a>1 St: 2 primes production (each prime &gt; million)</h1><p>When the prime is very big, test the speed of each methods.</p>
<p>###1.1<br>The testcases: 15485867*32452867 = 502560782130689</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">31.0308229923</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">32.3473279476+3.276534002</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">2.5645339489</td>
<td style="text-align:right">3.19916701317</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.0414018630981</td>
<td style="text-align:right">0.0358607769012</td>
</tr>
</tbody>
</table>
<p>###1.2<br>The testcases: 15487019*15487469 = 239854726664911</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">22.700715065</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">21.358424902+3.0871624554</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">3.99884200096</td>
<td style="text-align:right">2.206387043</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.0165410041809</td>
<td style="text-align:right">0.0110921859741</td>
</tr>
</tbody>
</table>
<p>###1.3<br>The testcases: 15490781*67869427 = 1051350430252487</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">53.9460468292</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">47.7404336929+8.194948196</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">8.05504488945</td>
<td style="text-align:right">9.30907988548</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.0999021530151</td>
<td style="text-align:right">0.0918011665344</td>
</tr>
</tbody>
</table>
<h1 id="2-nd-4-primes-production-each-prime-between-1000-9999"><a href="#2-nd-4-primes-production-each-prime-between-1000-9999" class="headerlink" title="2 nd: 4 primes production (each prime between[1000,9999])"></a>2 nd: 4 primes production (each prime between[1000,9999])</h1><p>When the prime is big and more factors, test the speed of each methods.</p>
<p>###2.1<br>The testcases: 8147 <em> 8369 </em> 8623 * 7127 = 4190216175859403</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">109.196480989</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">105.0888099666+5.89233399</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">2.5645339489</td>
<td style="text-align:right">3.19916701317</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.0414018630981</td>
<td style="text-align:right">0.0358607769012</td>
</tr>
</tbody>
</table>
<p>###2.2<br>The testcases: 1259 <em> 1451 </em> 1613 * 1811 = 5336370322687</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">2.96865296364</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">3.3992729187+0.5768110752</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">5.54617881775</td>
<td style="text-align:right">3.116948843</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.00448799133301</td>
<td style="text-align:right">0.00167012214661</td>
</tr>
</tbody>
</table>
<p>###2.3<br>The testcases: 6277 <em> 5351 </em> 8831 * 9733 = 2886979418455921</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">77.4180650711</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">72.7111520767+13.2122049</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">2.87196207047</td>
<td style="text-align:right">3.24289989471</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.479516983032</td>
<td style="text-align:right">0.00454497337341</td>
</tr>
</tbody>
</table>
<h1 id="3-rd-over-6-small-prime-product"><a href="#3-rd-over-6-small-prime-product" class="headerlink" title="3 rd: over 6 small prime product"></a>3 rd: over 6 small prime product</h1><p>When the prime is not that big, but we have more factors for the number which need to be factorization.</p>
<p>###3.1<br>The testcases: 13 <em> 127 </em> 263 <em> 419 </em> 17 <em> 131 </em> 269 = 108990674873561</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">12.9187300205</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">12.9247641563+2.445067882</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">3.29201412201</td>
<td style="text-align:right">2.98240017891</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.00494313240051</td>
<td style="text-align:right">0.00559782981873</td>
</tr>
</tbody>
</table>
<p>###3.2<br>The testcases: 13 <em> 17 </em> 2 <em> 1123 </em> 1426499 * 5 = 3540328013170</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">4.11624193192</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">4.38335967064+0.452334165</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">3.39200806618</td>
<td style="text-align:right">2.18938994408</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.00471496582031</td>
<td style="text-align:right">0.00225687026978</td>
</tr>
</tbody>
</table>
<p>###3.3<br>The testcases: 547 <em> 701 </em> 29 <em> 149 </em> 5 * 2 = 16568744870</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">3.92766094208</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">2.42819094658+0.031641006</td>
<td style="text-align:right">null</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">3.00680112839</td>
<td style="text-align:right">4.95704817772</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">0.0637471675873</td>
<td style="text-align:right">0.000675916671753</td>
</tr>
</tbody>
</table>
<h2 id="3-How-to-run-the-code"><a href="#3-How-to-run-the-code" class="headerlink" title="3 How to run the code:"></a>3 How to run the code:</h2><p>There is a easy way to run by<br><figure class="highlight python"><figcaption><span>runner.py```</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Then following the introduction. </span><br><span class="line"></span><br><span class="line">Firstly, you will see this introduction format.</span><br></pre></td></tr></table></figure></p>
<p>integer factorization algorithm<br>type the number you want to run the algorithm<br>eg: 1<br>then will run the Trial division<br>1.Trial division<br>2.Euler’s factorization method<br>3.Fermat’s factorization method<br>4.Pollard’s rho algorithm<br>input the number:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Then input the id of factorization method.</span><br><span class="line"></span><br><span class="line">for the 3rd and 4th, you also need to choose the id of the prime generate method.</span><br></pre></td></tr></table></figure></p>
<p>runner.py<br>  -+—-1 “Trial division”—-+—“type number of testcases”<br>   |                          +—“input the number which needs factorization”<br>   |<br>   |<br>   +—-2 “Euler’s factorization method”—+—“type number of testcases”<br>   |                                       +—“input the number which needs factorization”<br>   |<br>   |<br>   +—-3 “Fermat’s factorization method”—+—“type the prime generate method”<br>   |                                        +—1 “trivial prime”<br>   |                                          +       +—“type number of testcases”<br>   |                                        |    +—“input the number which needs factorization”<br>   |                                        |<br>   |                                        +—2 “Miller-Rabin primality test”<br>   |                                             +—“type number of testcases”<br>   |                                             +—“input the number which needs factorization”<br>   |<br>   |<br>   +—-4 “Pollard’s rho algorithm”—+—“type the prime generate method”<br>                                      +—1 “trivial prime”<br>                                      |        +—“type number of testcases”<br>                                      |     +—“input the number which needs factorization”<br>                                     |<br>                                      +—2 “Miller-Rabin primality test”<br>                                               +—“type number of testcases”<br>                                            +—“input the number which needs factorization”<br>```<br>Or </p>
<p>You can runner each single file<br>which has been listed:</p>
<table>
<thead>
<tr>
<th>Algorithm</th>
<th style="text-align:center">trivial prime</th>
<th style="text-align:right">Miller-Rabin primality test</th>
</tr>
</thead>
<tbody>
<tr>
<td>Trial division(baseline)</td>
<td style="text-align:center">trial_division.py</td>
<td style="text-align:right">note0</td>
</tr>
<tr>
<td>Euler’s factorization method</td>
<td style="text-align:center">euler_trivial.py note2</td>
<td style="text-align:right">note1</td>
</tr>
<tr>
<td>Fermat’s factorization method</td>
<td style="text-align:center">fermatfactor_trivial.py</td>
<td style="text-align:right">fermatfactor_improved_prime.py</td>
</tr>
<tr>
<td>Pollard’s rho algorithm</td>
<td style="text-align:center">Pollards_rho_trivial.py</td>
<td style="text-align:right">Pollards_rho_improved_prime.py</td>
</tr>
</tbody>
</table>
<h2 id="Anything-else-you-deem-relevant"><a href="#Anything-else-you-deem-relevant" class="headerlink" title="Anything else you deem relevant."></a>Anything else you deem relevant.</h2><p>1 I used the trivial prime:<br>    which judge if a number is a prime.</p>
<p>2 I used another prime test called Miller-Rabin primality test:<br>    which is much quicker and I have referenced in all my test cases. Prime test is correct.</p>
<h2 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h2><p><a href="http://www.bigprimes.net/archive/prime/10/" target="_blank" rel="noopener">http://www.bigprimes.net/archive/prime/10/</a></p>
<p><a href="https://rosettacode.org/wiki/Miller–Rabin_primality_test#Python:_Probably_correct_answers" target="_blank" rel="noopener">https://rosettacode.org/wiki/Miller–Rabin_primality_test#Python:_Probably_correct_answers</a></p>
<p><a href="https://en.wikipedia.org/wiki/Integer_factorization" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Integer_factorization</a></p>
<p><a href="https://en.wikipedia.org/wiki/Trial_division" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Trial_division</a></p>
<p><a href="https://en.wikipedia.org/wiki/Fermat%27s_factorization_method" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Fermat%27s_factorization_method</a></p>
<p><a href="https://en.wikipedia.org/wiki/Pollard%27s_rho_algorithm" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Pollard%27s_rho_algorithm</a></p>
<p><a href="https://en.wikipedia.org/wiki/Euler%27s_factorization_method" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/Euler%27s_factorization_method</a></p>
<p><a href="http://mathworld.wolfram.com/PollardRhoFactorizationMethod.html" target="_blank" rel="noopener">http://mathworld.wolfram.com/PollardRhoFactorizationMethod.html</a></p>
<p><a href="http://kadinumberprops.blogspot.ca/2012/11/fermats-factorization-running-time.html" target="_blank" rel="noopener">http://kadinumberprops.blogspot.ca/2012/11/fermats-factorization-running-time.html</a></p>

          
        
      
    </div>

    

    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="Next page"></i></a>
  </nav>



          </div>
          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpeg"
                alt="Weijie Sun" />
            
              <p class="site-author-name" itemprop="name">Weijie Sun</p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">12</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  
                    
                    
                      
                    
                    <span class="site-state-item-count">1</span>
                    <span class="site-state-item-name">categories</span>
                  
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">7</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          
            <div class="links-of-author motion-element">
              
                <span class="links-of-author-item">
                  <a href="https://github.com/jeremykid" target="_blank" title="GitHub"><i class="fa fa-fw fa-globe"></i>GitHub</a>
                  
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.linkedin.com/in/weijie-sun-8760648a?trk=hp-identity-name" target="_blank" title="Linkedin"><i class="fa fa-fw fa-globe"></i>Linkedin</a>
                  
                </span>
              
            </div>
          

          
          
            <div class="cc-license motion-element" itemprop="license">
              <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" class="cc-opacity" target="_blank">
                <img src="/images/cc-by-nc-sa.svg" alt="Creative Commons" />
              </a>
            </div>
          

          
          

          
            
          
          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">weijiesun</span>

  

  
</div>




  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> v3.7.1</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/theme-next/hexo-theme-next">NexT.Muse</a> v6.3.0</div>




        








        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=6.3.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=6.3.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=6.3.0"></script>



  

  
    <script id="dsq-count-scr" src="https://weijiesun-1.disqus.com/count.js" async></script>
  

  





	





  












  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  
  

  
  
    
      
    
      
        
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
      
    
  

  
    
      <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      },
      TeX: {equationNumbers: { autoNumber: "AMS" }}
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
      var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>
<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

    
  


  
  

  

  

  

  

  

</body>
</html>
